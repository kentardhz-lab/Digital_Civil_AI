{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Final Engineering Report Schema",
  "description": "Schema defining the unified engineering decision output for all evaluated scenarios.",
  "type": "object",
  "required": ["project_id", "results"],
  "properties": {
    "project_id": {
      "type": "string",
      "description": "Identifier of the evaluated project or run."
    },
    "results": {
      "type": "array",
      "description": "Per-element engineering verdicts across scenarios.",
      "items": {
        "type": "object",
        "required": [
          "element_id",
          "base",
          "degraded",
          "extreme"
        ],
        "properties": {
          "element_id": {
            "type": "string",
            "description": "Reference to the evaluated structural element."
          },
          "base": {
            "$ref": "#/definitions/verdict"
          },
          "degraded": {
            "$ref": "#/definitions/verdict"
          },
          "extreme": {
            "$ref": "#/definitions/verdict"
          }
        },
        "additionalProperties": false
      }
    }
  },
  "definitions": {
    "verdict": {
      "type": "object",
      "required": ["status", "reason"],
      "properties": {
        "status": {
          "type": "string",
          "enum": ["Safe", "Borderline", "Risky"],
          "description": "Engineering decision outcome."
        },
        "reason": {
          "type": "string",
          "description": "Human-readable engineering justification for the verdict."
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
